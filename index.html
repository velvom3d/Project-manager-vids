<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VIDS 3D Print Manager</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    html {
      -webkit-text-size-adjust: 100%;
      -moz-text-size-adjust: 100%;
      text-size-adjust: 100%;
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Inter', sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .font-display { font-family: 'Bebas Neue', sans-serif; }

    /* Minimal dark theme */
    .bg-dark { background-color: #000000; }
    .bg-dark-light { background-color: #0a0a0a; }
    .bg-dark-card { background-color: #111111; }

    /* Smooth scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: #000; }
    ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #555; }

    /* Text reveal animation */
    @keyframes revealUp {
      from {
        opacity: 0;
        transform: translateY(40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .reveal {
      animation: revealUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }

    .reveal-delay-1 { animation-delay: 0.1s; opacity: 0; }
    .reveal-delay-2 { animation-delay: 0.2s; opacity: 0; }
    .reveal-delay-3 { animation-delay: 0.3s; opacity: 0; }
    .reveal-delay-4 { animation-delay: 0.4s; opacity: 0; }

    /* Fade in */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .fade-in {
      animation: fadeIn 1s ease forwards;
    }

    /* Card hover */
    .card-minimal {
      background: #111;
      border: 1px solid #222;
      transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .card-minimal:hover {
      border-color: #444;
      transform: translateY(-8px);
    }

    .card-minimal:hover .card-image img {
      transform: scale(1.05);
    }

    .card-image {
      overflow: hidden;
    }

    .card-image img {
      transition: transform 0.7s cubic-bezier(0.16, 1, 0.3, 1);
    }

    /* Button styles */
    .btn-primary {
      background: #fff;
      color: #000;
      transition: all 0.3s ease;
    }

    .btn-primary:hover {
      background: #e5e5e5;
      transform: translateY(-2px);
    }

    .btn-outline {
      border: 1px solid #333;
      transition: all 0.3s ease;
    }

    .btn-outline:hover {
      border-color: #fff;
      background: rgba(255,255,255,0.05);
    }

    /* Input styles */
    .input-minimal {
      background: transparent;
      border: none;
      border-bottom: 1px solid #333;
      transition: border-color 0.3s ease;
    }

    .input-minimal:focus {
      outline: none;
      border-color: #fff;
    }

    .input-minimal::placeholder {
      color: #666;
    }

    /* Status indicators */
    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }

    .status-pending { background: #f59e0b; }
    .status-printing { background: #3b82f6; animation: pulse 2s infinite; }
    .status-completed { background: #10b981; }
    .status-delivered { background: #8b5cf6; }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    /* Loading screen */
    .loading-screen {
      position: fixed;
      inset: 0;
      background: #000;
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.5s ease;
    }

    .loading-screen.hidden {
      opacity: 0;
      pointer-events: none;
    }

    @keyframes loadingBar {
      0% { transform: scaleX(0); }
      100% { transform: scaleX(1); }
    }

    .loading-bar {
      width: 200px;
      height: 2px;
      background: #222;
      overflow: hidden;
    }

    .loading-bar::after {
      content: '';
      display: block;
      height: 100%;
      background: #fff;
      transform-origin: left;
      animation: loadingBar 1.5s ease-in-out infinite;
    }

    /* Stat card */
    .stat-card {
      border-left: 1px solid #222;
      transition: all 0.3s ease;
    }

    .stat-card:hover {
      border-color: #fff;
    }

    /* Image overlay */
    .image-overlay {
      position: relative;
    }

    .image-overlay::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 50%);
    }

    /* Modal backdrop */
    .modal-backdrop {
      background: rgba(0,0,0,0.95);
      backdrop-filter: blur(10px);
    }

    /* Custom select */
    select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 16px;
    }

    /* Notification */
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    .notification {
      animation: slideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }

    /* Filter active */
    .filter-active {
      position: relative;
    }

    .filter-active::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      right: 0;
      height: 1px;
      background: #fff;
    }

    /* Cursor */
    * { cursor: default; }
    a, button, select, input, label, .clickable { cursor: pointer; }

    /* Hero text */
    .hero-text {
      font-size: clamp(3rem, 10vw, 8rem);
      line-height: 0.9;
      letter-spacing: -0.02em;
    }

    /* Marquee */
    @keyframes marquee {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    .marquee {
      animation: marquee 20s linear infinite;
    }

    /* Line decoration */
    .line-decoration {
      height: 1px;
      background: linear-gradient(to right, transparent, #333, transparent);
    }
  </style>
</head>
<body class="bg-dark text-white min-h-screen">
  <div id="root"></div>
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
  <script>
    const e = React.createElement;
    const { useState, useEffect, useRef } = React;

    function App() {
      const [client, setClient] = useState(null);
      const [session, setSession] = useState(null);
      const [projects, setProjects] = useState([]);
      const [loading, setLoading] = useState(true);
      const [initialLoad, setInitialLoad] = useState(true);
      const [showAuth, setShowAuth] = useState(true);
      const [email, setEmail] = useState(localStorage.getItem('remembered_email') || '');
      const [password, setPassword] = useState('');
      const [rememberMe, setRememberMe] = useState(true);
      const [showModal, setShowModal] = useState(false);
      const [form, setForm] = useState({ client:'', project:'', company:'', contact:'', cost:'', status:'pending', note:'' });
      const [imageFile, setImageFile] = useState(null);
      const [imagePreview, setImagePreview] = useState(null);
      const [notification, setNotification] = useState(null);
      const [filter, setFilter] = useState('all');
      const modalRef = useRef(null);
      const fileInputRef = useRef(null);

      useEffect(() => {
        const timer = setTimeout(() => setInitialLoad(false), 2000);
        return () => clearTimeout(timer);
      }, []);

      /* ---------- INIT SUPABASE ---------- */
      useEffect(() => {
        const defaultUrl = 'https://qybnthiwhbfulttwwzcw.supabase.co';
        const defaultKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF5Ym50aGl3aGJmdWx0dHd3emN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5MTM5MzIsImV4cCI6MjA4MTQ4OTkzMn0.3IZlTVE4x0_l0Kctoy9-cljQ_MoUYLhs5I9r2oQIr_c';
        const sb = window.supabase.createClient(defaultUrl, defaultKey, {
          auth: { persistSession: true, detectSessionInUrl: true }
        });
        setClient(sb);
        sb.auth.getSession().then(({ data }) => {
          setSession(data.session);
          setShowAuth(!data.session);
        });
        sb.auth.onAuthStateChange((_e, s) => {
          setSession(s);
          setShowAuth(!s);
        });
      }, []);

      /* ---------- LOAD PROJECTS ---------- */
      useEffect(() => {
        if (!client || !session) return;
        async function loadProjects() {
          setLoading(true);
          const { data, error } = await client.from('projects').select('*').order('created_at',{ascending:false});
          if (error) showNotification(error.message, 'error');
          else setProjects(data || []);
          setLoading(false);
        }
        loadProjects();
        const channel = client
          .channel('projects')
          .on('postgres_changes', { event:'*', schema:'public', table:'projects' }, loadProjects)
          .subscribe();
        return () => channel.unsubscribe();
      }, [client, session]);

      /* ---------- NOTIFICATIONS ---------- */
      function showNotification(msg, type='info') {
        setNotification({ msg, type });
        setTimeout(() => setNotification(null), 4000);
      }

      /* ---------- AUTH ---------- */
      async function login() {
        if (!client) return showNotification('Initializing...', 'error');
        if (rememberMe) localStorage.setItem('remembered_email', email);
        else localStorage.removeItem('remembered_email');
        const { error } = await client.auth.signInWithPassword({ email, password });
        if (error) showNotification(error.message, 'error');
        else showNotification('Welcome back', 'success');
      }

      async function register() {
        if (!client) return showNotification('Initializing...', 'error');
        if (rememberMe) localStorage.setItem('remembered_email', email);
        else localStorage.removeItem('remembered_email');
        const { error } = await client.auth.signUp({ email, password });
        if (error) showNotification(error.message, 'error');
        else showNotification('Check your email', 'success');
      }

      async function logout() {
        if (!client) return;
        await client.auth.signOut();
        setSession(null);
        setShowAuth(true);
        showNotification('Signed out', 'success');
      }

      /* ---------- IMAGE HANDLING ---------- */
      function handleImageSelect(event) {
        const file = event.target.files[0];
        if (file) {
          setImageFile(file);
          const reader = new FileReader();
          reader.onloadend = () => setImagePreview(reader.result);
          reader.readAsDataURL(file);
        }
      }

      async function uploadImage(file) {
        if (!file || !client) return null;
        const fileExt = file.name.split('.').pop();
        const fileName = `${Date.now()}-${Math.random().toString(36).substr(2, 9)}.${fileExt}`;
        const { error } = await client.storage.from('project-images').upload(fileName, file);
        if (error) {
          showNotification('Upload failed', 'error');
          return null;
        }
        const { data: urlData } = client.storage.from('project-images').getPublicUrl(fileName);
        return urlData.publicUrl;
      }

      /* ---------- CRUD ---------- */
      async function createProject() {
        if (!client) return showNotification('Not ready', 'error');
        if (!form.client || !form.project) return showNotification('Required fields missing', 'error');

        let imageUrl = null;
        if (imageFile) imageUrl = await uploadImage(imageFile);

        const { error } = await client.from('projects').insert({
          client_name: form.client,
          project_name: form.project,
          company: form.company,
          contact: form.contact,
          cost: form.cost ? Number(form.cost) : null,
          status: form.status,
          note: form.note,
          image_url: imageUrl
        });
        if (error) return showNotification(error.message, 'error');
        setShowModal(false);
        setForm({ client:'', project:'', company:'', contact:'', cost:'', status:'pending', note:'' });
        setImageFile(null);
        setImagePreview(null);
        showNotification('Project created', 'success');
      }

      async function updateStatus(id, status) {
        if (!client) return;
        await client.from('projects').update({ status }).eq('id', id);
        showNotification('Updated', 'success');
      }

      async function deleteProject(id) {
        if (!client) return;
        if (!confirm('Delete this project?')) return;
        await client.from('projects').delete().eq('id', id);
        showNotification('Deleted', 'success');
      }

      /* ---------- MODAL OUTSIDE CLICK ---------- */
      useEffect(() => {
        function handleClickOutside(event) {
          if (modalRef.current && !modalRef.current.contains(event.target)) {
            setShowModal(false);
          }
        }
        if (showModal) document.addEventListener('mousedown', handleClickOutside);
        return () => document.removeEventListener('mousedown', handleClickOutside);
      }, [showModal]);

      const statusConfig = {
        pending: { label: 'Pending', dot: 'status-pending' },
        printing: { label: 'Printing', dot: 'status-printing' },
        completed: { label: 'Completed', dot: 'status-completed' },
        delivered: { label: 'Delivered', dot: 'status-delivered' }
      };

      const filteredProjects = filter === 'all' ? projects : projects.filter(p => p.status === filter);
      const stats = {
        total: projects.length,
        pending: projects.filter(p => p.status === 'pending').length,
        printing: projects.filter(p => p.status === 'printing').length,
        completed: projects.filter(p => p.status === 'completed').length,
        delivered: projects.filter(p => p.status === 'delivered').length
      };

      /* ---------- LOADING SCREEN ---------- */
      if (initialLoad) {
        return e('div', { className: 'loading-screen' },
          e('div', { className: 'text-center' },
            e('div', { className: 'font-display text-4xl tracking-wider mb-8' }, 'VIDS'),
            e('div', { className: 'loading-bar' })
          )
        );
      }

      /* ---------- AUTH SCREEN ---------- */
      if (showAuth) {
        return e('div', { className: 'min-h-screen flex' },
          // Left side - Branding
          e('div', { className: 'hidden lg:flex lg:w-1/2 bg-dark-light items-center justify-center p-12' },
            e('div', { className: 'max-w-lg' },
              e('h1', { className: 'font-display hero-text text-white reveal' }, 'PRECISION'),
              e('h1', { className: 'font-display hero-text text-white reveal reveal-delay-1' }, 'CRAFTED'),
              e('h1', { className: 'font-display hero-text text-gray-600 reveal reveal-delay-2' }, '3D PRINTS'),
              e('div', { className: 'line-decoration my-8 reveal reveal-delay-3' }),
              e('p', { className: 'text-gray-500 text-lg reveal reveal-delay-4' }, 'Sharp. Powerful. Professional.')
            )
          ),

          // Right side - Form
          e('div', { className: 'w-full lg:w-1/2 flex items-center justify-center p-8' },
            e('div', { className: 'w-full max-w-md' },
              e('div', { className: 'mb-12 reveal' },
                e('div', { className: 'font-display text-3xl tracking-wider mb-2' }, 'VIDS'),
                e('p', { className: 'text-gray-500' }, '3D Print Management')
              ),

              e('div', { className: 'space-y-6 reveal reveal-delay-1' },
                e('div', null,
                  e('label', { className: 'text-xs text-gray-500 uppercase tracking-wider mb-2 block' }, 'Email'),
                  e('input', {
                    type: 'email',
                    className: 'input-minimal w-full py-3 text-white',
                    value: email,
                    onChange: ev => setEmail(ev.target.value),
                    placeholder: 'your@email.com'
                  })
                ),
                e('div', null,
                  e('label', { className: 'text-xs text-gray-500 uppercase tracking-wider mb-2 block' }, 'Password'),
                  e('input', {
                    type: 'password',
                    className: 'input-minimal w-full py-3 text-white',
                    value: password,
                    onChange: ev => setPassword(ev.target.value),
                    placeholder: '••••••••'
                  })
                )
              ),

              e('label', { className: 'flex items-center gap-3 mt-6 reveal reveal-delay-2 clickable' },
                e('div', {
                  className: `w-4 h-4 border flex items-center justify-center transition-all ${rememberMe ? 'bg-white border-white' : 'border-gray-600'}`
                },
                  rememberMe && e('svg', { className: 'w-3 h-3 text-black', fill: 'none', viewBox: '0 0 24 24', stroke: 'currentColor', strokeWidth: 3 },
                    e('path', { strokeLinecap: 'round', strokeLinejoin: 'round', d: 'M5 13l4 4L19 7' })
                  )
                ),
                e('input', { type: 'checkbox', checked: rememberMe, onChange: ev => setRememberMe(ev.target.checked), className: 'hidden' }),
                e('span', { className: 'text-gray-500 text-sm' }, 'Remember me')
              ),

              e('div', { className: 'flex gap-4 mt-10 reveal reveal-delay-3' },
                e('button', {
                  onClick: login,
                  disabled: !client,
                  className: 'flex-1 btn-primary py-4 font-medium disabled:opacity-50'
                }, 'Sign In'),
                e('button', {
                  onClick: register,
                  disabled: !client,
                  className: 'flex-1 btn-outline py-4 font-medium disabled:opacity-50'
                }, 'Register')
              )
            )
          )
        );
      }

      /* ---------- MAIN UI ---------- */
      return e('div', { className: 'min-h-screen' },
        // Notification
        notification && e('div', {
          className: `notification fixed top-6 right-6 px-6 py-4 z-50 ${
            notification.type === 'success' ? 'bg-white text-black' :
            notification.type === 'error' ? 'bg-red-500 text-white' :
            'bg-gray-800 text-white'
          }`
        }, notification.msg),

        // Header
        e('header', { className: 'fixed top-0 left-0 right-0 z-40 bg-dark/80 backdrop-blur-md border-b border-white/5' },
          e('div', { className: 'max-w-7xl mx-auto px-6 py-4 flex items-center justify-between' },
            e('div', { className: 'font-display text-2xl tracking-wider' }, 'VIDS'),
            e('nav', { className: 'hidden md:flex items-center gap-8' },
              ['all', 'pending', 'printing', 'completed', 'delivered'].map(f =>
                e('button', {
                  key: f,
                  onClick: () => setFilter(f),
                  className: `text-sm uppercase tracking-wider transition-colors clickable ${
                    filter === f ? 'text-white filter-active' : 'text-gray-500 hover:text-white'
                  }`
                }, f)
              )
            ),
            e('div', { className: 'flex items-center gap-4' },
              e('button', {
                onClick: () => setShowModal(true),
                className: 'btn-primary px-6 py-2 text-sm font-medium'
              }, 'New Project'),
              e('button', {
                onClick: logout,
                className: 'text-gray-500 hover:text-white transition-colors text-sm clickable'
              }, 'Logout')
            )
          )
        ),

        // Hero Section
        e('section', { className: 'pt-32 pb-16 px-6' },
          e('div', { className: 'max-w-7xl mx-auto' },
            e('h1', { className: 'font-display hero-text reveal' }, 'YOUR'),
            e('h1', { className: 'font-display hero-text reveal reveal-delay-1' }, 'PROJECTS'),
            e('div', { className: 'line-decoration my-8 reveal reveal-delay-2' })
          )
        ),

        // Stats
        e('section', { className: 'px-6 pb-16' },
          e('div', { className: 'max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-5 gap-0' },
            [
              { label: 'Total', value: stats.total },
              { label: 'Pending', value: stats.pending },
              { label: 'Printing', value: stats.printing },
              { label: 'Completed', value: stats.completed },
              { label: 'Delivered', value: stats.delivered }
            ].map((s, i) => e('div', {
              key: s.label,
              className: 'stat-card pl-6 py-6 reveal',
              style: { animationDelay: `${i * 0.1}s` }
            },
              e('div', { className: 'font-display text-5xl md:text-6xl text-white' }, s.value),
              e('div', { className: 'text-gray-500 text-sm uppercase tracking-wider mt-2' }, s.label)
            ))
          )
        ),

        // Mobile Filter
        e('div', { className: 'md:hidden px-6 pb-8 overflow-x-auto' },
          e('div', { className: 'flex gap-4' },
            ['all', 'pending', 'printing', 'completed', 'delivered'].map(f =>
              e('button', {
                key: f,
                onClick: () => setFilter(f),
                className: `text-sm uppercase tracking-wider whitespace-nowrap transition-colors clickable ${
                  filter === f ? 'text-white' : 'text-gray-500'
                }`
              }, f)
            )
          )
        ),

        // Loading
        loading && e('div', { className: 'text-center py-20' },
          e('div', { className: 'loading-bar mx-auto' })
        ),

        // Project Grid
        !loading && e('section', { className: 'px-6 pb-20' },
          e('div', { className: 'max-w-7xl mx-auto grid md:grid-cols-2 lg:grid-cols-3 gap-6' },
            filteredProjects.map((p, i) => {
              const status = statusConfig[p.status] || statusConfig.pending;
              return e('div', {
                key: p.id,
                className: 'card-minimal rounded-lg overflow-hidden reveal',
                style: { animationDelay: `${i * 0.05}s` }
              },
                // Image
                e('div', { className: 'card-image image-overlay h-56 bg-dark-card' },
                  p.image_url
                    ? e('img', { src: p.image_url, alt: p.project_name, className: 'w-full h-full object-cover' })
                    : e('div', { className: 'w-full h-full flex items-center justify-center' },
                        e('svg', { viewBox: '0 0 24 24', className: 'w-16 h-16 text-gray-800', fill: 'none', stroke: 'currentColor', strokeWidth: '0.5' },
                          e('path', { d: 'M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z' })
                        )
                      ),
                  // Status
                  e('div', { className: 'absolute top-4 left-4 flex items-center gap-2 z-10' },
                    e('div', { className: `status-dot ${status.dot}` }),
                    e('span', { className: 'text-xs uppercase tracking-wider text-white' }, status.label)
                  )
                ),

                // Content
                e('div', { className: 'p-6' },
                  e('div', { className: 'flex justify-between items-start mb-4' },
                    e('div', null,
                      e('h3', { className: 'font-display text-2xl text-white' }, p.project_name),
                      e('p', { className: 'text-gray-500 text-sm mt-1' }, p.client_name)
                    ),
                    p.cost && e('div', { className: 'text-white font-medium' }, '$', p.cost)
                  ),
                  p.company && e('p', { className: 'text-gray-600 text-sm mb-3' }, p.company),
                  p.note && e('p', { className: 'text-gray-500 text-sm italic line-clamp-2 mb-4' }, p.note),

                  // Actions
                  e('div', { className: 'flex gap-3 pt-4 border-t border-white/5' },
                    e('select', {
                      value: p.status,
                      onChange: ev => updateStatus(p.id, ev.target.value),
                      className: 'flex-1 bg-transparent border border-white/10 p-3 text-sm text-white rounded clickable'
                    },
                      ['pending', 'printing', 'completed', 'delivered'].map(s =>
                        e('option', { key: s, value: s, className: 'bg-black' }, s.charAt(0).toUpperCase() + s.slice(1))
                      )
                    ),
                    e('button', {
                      onClick: () => deleteProject(p.id),
                      className: 'p-3 border border-white/10 rounded text-gray-500 hover:text-red-500 hover:border-red-500/50 transition-all clickable'
                    },
                      e('svg', { viewBox: '0 0 24 24', className: 'w-5 h-5', fill: 'none', stroke: 'currentColor', strokeWidth: '1.5' },
                        e('path', { strokeLinecap: 'round', strokeLinejoin: 'round', d: 'M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16' })
                      )
                    )
                  )
                )
              );
            })
          )
        ),

        // Empty State
        filteredProjects.length === 0 && !loading && e('section', { className: 'px-6 py-20 text-center' },
          e('div', { className: 'max-w-md mx-auto' },
            e('div', { className: 'font-display text-4xl text-gray-700 mb-4' }, 'NO PROJECTS'),
            e('p', { className: 'text-gray-500 mb-8' }, 'Start by creating your first project'),
            e('button', {
              onClick: () => setShowModal(true),
              className: 'btn-primary px-8 py-4 font-medium'
            }, 'Create Project')
          )
        ),

        // Footer Marquee
        e('footer', { className: 'border-t border-white/5 py-4 overflow-hidden' },
          e('div', { className: 'marquee whitespace-nowrap' },
            e('span', { className: 'inline-block text-gray-700 font-display text-xl tracking-widest mx-8' },
              'PRECISION • QUALITY • INNOVATION • VIDS 3D PRINT • PRECISION • QUALITY • INNOVATION • VIDS 3D PRINT • '
            )
          )
        ),

        // Modal
        showModal && e('div', { className: 'fixed inset-0 modal-backdrop flex items-center justify-center z-50 p-4' },
          e('div', {
            ref: modalRef,
            className: 'bg-dark-card border border-white/10 w-full max-w-lg p-8 reveal'
          },
            e('div', { className: 'flex justify-between items-center mb-8' },
              e('h2', { className: 'font-display text-3xl' }, 'NEW PROJECT'),
              e('button', {
                onClick: () => setShowModal(false),
                className: 'text-gray-500 hover:text-white transition-colors clickable'
              },
                e('svg', { className: 'w-6 h-6', fill: 'none', viewBox: '0 0 24 24', stroke: 'currentColor', strokeWidth: '1.5' },
                  e('path', { strokeLinecap: 'round', strokeLinejoin: 'round', d: 'M6 18L18 6M6 6l12 12' })
                )
              )
            ),

            // Image Upload
            e('div', {
              className: 'mb-8 border border-dashed border-white/20 p-8 text-center clickable hover:border-white/40 transition-colors',
              onClick: () => fileInputRef.current?.click()
            },
              imagePreview
                ? e('img', { src: imagePreview, className: 'max-h-40 mx-auto' })
                : e('div', { className: 'text-gray-500' },
                    e('svg', { viewBox: '0 0 24 24', className: 'w-12 h-12 mx-auto mb-3', fill: 'none', stroke: 'currentColor', strokeWidth: '1' },
                      e('path', { strokeLinecap: 'round', strokeLinejoin: 'round', d: 'M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z' })
                    ),
                    e('p', { className: 'text-sm' }, 'Click to upload image')
                  ),
              e('input', {
                ref: fileInputRef,
                type: 'file',
                accept: 'image/*',
                className: 'hidden',
                onChange: handleImageSelect
              })
            ),

            // Form
            e('div', { className: 'space-y-6' },
              e('div', { className: 'grid grid-cols-2 gap-6' },
                e('div', { className: 'col-span-2' },
                  e('label', { className: 'text-xs text-gray-500 uppercase tracking-wider mb-2 block' }, 'Client Name *'),
                  e('input', {
                    className: 'input-minimal w-full py-3 text-white',
                    value: form.client,
                    onChange: ev => setForm({...form, client: ev.target.value})
                  })
                ),
                e('div', { className: 'col-span-2' },
                  e('label', { className: 'text-xs text-gray-500 uppercase tracking-wider mb-2 block' }, 'Project Name *'),
                  e('input', {
                    className: 'input-minimal w-full py-3 text-white',
                    value: form.project,
                    onChange: ev => setForm({...form, project: ev.target.value})
                  })
                ),
                e('div', null,
                  e('label', { className: 'text-xs text-gray-500 uppercase tracking-wider mb-2 block' }, 'Company'),
                  e('input', {
                    className: 'input-minimal w-full py-3 text-white',
                    value: form.company,
                    onChange: ev => setForm({...form, company: ev.target.value})
                  })
                ),
                e('div', null,
                  e('label', { className: 'text-xs text-gray-500 uppercase tracking-wider mb-2 block' }, 'Contact'),
                  e('input', {
                    className: 'input-minimal w-full py-3 text-white',
                    value: form.contact,
                    onChange: ev => setForm({...form, contact: ev.target.value})
                  })
                ),
                e('div', null,
                  e('label', { className: 'text-xs text-gray-500 uppercase tracking-wider mb-2 block' }, 'Cost ($)'),
                  e('input', {
                    type: 'number',
                    className: 'input-minimal w-full py-3 text-white',
                    value: form.cost,
                    onChange: ev => setForm({...form, cost: ev.target.value})
                  })
                ),
                e('div', null,
                  e('label', { className: 'text-xs text-gray-500 uppercase tracking-wider mb-2 block' }, 'Status'),
                  e('select', {
                    className: 'w-full py-3 bg-transparent border-b border-white/20 text-white clickable',
                    value: form.status,
                    onChange: ev => setForm({...form, status: ev.target.value})
                  },
                    ['pending', 'printing', 'completed', 'delivered'].map(s =>
                      e('option', { key: s, value: s, className: 'bg-black' }, s.charAt(0).toUpperCase() + s.slice(1))
                    )
                  )
                ),
                e('div', { className: 'col-span-2' },
                  e('label', { className: 'text-xs text-gray-500 uppercase tracking-wider mb-2 block' }, 'Notes'),
                  e('textarea', {
                    rows: 3,
                    className: 'input-minimal w-full py-3 text-white resize-none',
                    value: form.note,
                    onChange: ev => setForm({...form, note: ev.target.value})
                  })
                )
              )
            ),

            e('div', { className: 'flex gap-4 mt-10' },
              e('button', {
                onClick: () => setShowModal(false),
                className: 'flex-1 btn-outline py-4 font-medium clickable'
              }, 'Cancel'),
              e('button', {
                onClick: createProject,
                className: 'flex-1 btn-primary py-4 font-medium clickable'
              }, 'Create')
            )
          )
        )
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(e(App));
  </script>
</body>
</html>
